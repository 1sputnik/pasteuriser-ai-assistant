***<h1 align = "center">Data Manipulator</a>***

# Представление данных

<p align = "justify">
Было решено создать два формата данных. Первый формат предназначается для хранения значений всего одного датчика и обозначается OCDF. Он состоит из трёх значений: номер сида, дискретное время и значение датчика. Однако данный формат также можно использовать и для работы с данными всех сидов, которые подходят под данный формат данных. Тогда значение номера сида будет различаться.  
</p>

|cid|time|value|
|---|----|-----|
|1|24|100|
|1|25|99|
|1|30|95|
|1|31|96|

<p align = "justify">
Второй формат представляет собой таблицу данных, где собраны значения всех сидов во времени. Формат обозначается как TDF. Он состоит из семи значений: дискретное время, значение 1-ого сида, значение 2-ого сида, значение 3-ого сида, значение 4-ого сида, значение 5-ого сида, значение 6-ого сида. Данный формат очень легко представить в виде таблицы. 
</p>

|time|VC1|VC2|VC3|VC4|VC5|VC6|
|----|---|---|---|---|---|---|
|100|100|23|43|45|65|33|
|102|100|34|41|43|78|45|
|104|99|23|43|45|65|47|
|106|34|12|14|3|54|34|

VCX - value of cid X 

# Обработка данных

<p align = "justify">
Модуль DataManipulator предназначен для обеспечения чтения, сохранения и обработке данных. Он предоставляет возможности для работы с последовательностями как OCDF-данных, так и TDF-данных. Этот модуль необходим для подготовки данных для дальнейшей работы с модулем Forecaster.
</p>

<p align = "justify">
Из основных функций этого модуля можно выделить следующие: чтение и сохранение данных в csv-формате или в бинарном формате, обрезка данных по заданным параметрам, визуализация данных, добавление новых данных и парсинг данных по сиду.
</p>

<p align = "justify">
Из специфических функций можно выделить функцию выравнивания диапазонов по оси времени для OCDF-данных. Данная функция также примется при создании TDF-данных из OCDF-данных.
</p>

# трудности сборки TDF-формата

<p align = "justify">
Данный формат собирается из файла, который содержит в себе все сиды и подходит под формат OCDF-данных. При сборке данных, возникает проблема того, что в некоторые моменты времени не определены значения для некоторых датчиков. Это выглядит следующим образом:
</p>

|time|VC1|VC2|VC3|VC4|VC5|VC6|
|----|---|---|---|---|---|---|
|100|100||||||
|103|||41||||
|105||23||||
|110||||||34|

<p align = "justify">
Для решения данной задачи необходимо выполнить следующие действия: определить, данные какого сида появляются позже остальных и обрезать данные других сидов до первого момента времени появления позднейшего сида. Второй шаг похож на первый, но теперь работаем с концами последовательностей. Необходимо определить самый ранний заканчивающийся сид и обрезать концы других сидов до момента окончания самого раннего сида. Далее необходимо воспользоваться функцией выравнивания диапазонов по оси времени для каждой цепочки OCDF-данных. Это необходимо, чтобы в таблице не было пустых ячеек. Далее склеиваем все последовательности в TDF-формат. Пример таких данных уже был показан выше.
</p>

# будущее модуля

<p align = "justify">
Модуль планируется постоянно развивать и добавлять новые функции для обработки данных. Также в дальнейшем же планируется добавить возможность выделять и работать с аномалиями в данных. 
</p>